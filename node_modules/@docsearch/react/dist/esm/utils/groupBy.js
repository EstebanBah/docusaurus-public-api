<<<<<<< Updated upstream
export function groupBy(values, predicate, maxResultsPerGroup) {
=======
export function groupBy(values, predicate) {
>>>>>>> Stashed changes
  return values.reduce(function (acc, item) {
    var key = predicate(item);

    if (!acc.hasOwnProperty(key)) {
      acc[key] = [];
    } // We limit each section to show 5 hits maximum.
    // This acts as a frontend alternative to `distinct`.


<<<<<<< Updated upstream
    if (acc[key].length < (maxResultsPerGroup || 5)) {
=======
    if (acc[key].length < 5) {
>>>>>>> Stashed changes
      acc[key].push(item);
    }

    return acc;
  }, {});
}