"use strict";(self.webpackChunkdocusaurus_public_api=self.webpackChunkdocusaurus_public_api||[]).push([[4060],{5680:(e,a,n)=>{n.d(a,{xA:()=>p,yg:()=>y});var o=n(6540);function i(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function r(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,o)}return n}function t(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?r(Object(n),!0).forEach((function(a){i(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function s(e,a){if(null==e)return{};var n,o,i=function(e,a){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],a.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=o.createContext({}),l=function(e){var a=o.useContext(c),n=a;return e&&(n="function"==typeof e?e(a):t(t({},a),e)),n},p=function(e){var a=l(e.components);return o.createElement(c.Provider,{value:a},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var a=e.children;return o.createElement(o.Fragment,{},a)}},m=o.forwardRef((function(e,a){var n=e.components,i=e.mdxType,r=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(n),m=i,y=u["".concat(c,".").concat(m)]||u[m]||d[m]||r;return n?o.createElement(y,t(t({ref:a},p),{},{components:n})):o.createElement(y,t({ref:a},p))}));function y(e,a){var n=arguments,i=a&&a.mdxType;if("string"==typeof e||i){var r=n.length,t=new Array(r);t[0]=m;var s={};for(var c in a)hasOwnProperty.call(a,c)&&(s[c]=a[c]);s.originalType=e,s[u]="string"==typeof e?e:i,t[1]=s;for(var l=2;l<r;l++)t[l]=n[l];return o.createElement.apply(null,t)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1417:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>c,contentTitle:()=>t,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var o=n(8168),i=(n(6540),n(5680));const r={title:"Webhooks",description:"Servicio de notificaciones mediante eventos",slug:"/webhooks"},t=void 0,s={unversionedId:"webhooks",id:"version-MX/webhooks",title:"Webhooks",description:"Servicio de notificaciones mediante eventos",source:"@site/versioned_docs/version-MX/webhooks.md",sourceDirName:".",slug:"/webhooks",permalink:"/docusaurus-public-api/MX/webhooks",draft:!1,tags:[],version:"MX",frontMatter:{title:"Webhooks",description:"Servicio de notificaciones mediante eventos",slug:"/webhooks"},sidebar:"tutorialSidebar",previous:{title:"Env\xedos",permalink:"/docusaurus-public-api/MX/env\xedos"}},c={},l=[{value:"Convenciones utilizadas",id:"convenciones-utilizadas",level:3},{value:"Estructura de notificaciones",id:"estructura-de-notificaciones",level:2},{value:"Webhooks disponibles",id:"webhooks-disponibles",level:2},{value:"Solicitar activaci\xf3n",id:"solicitar-activaci\xf3n",level:2}],p={toc:l},u="wrapper";function d(e){let{components:a,...n}=e;return(0,i.yg)(u,(0,o.A)({},p,n,{components:a,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"bsale-webhooks"},"Bsale webhooks"),(0,i.yg)("p",null,"El equipo de Bsale ha puesto a disposici\xf3n de la comunidad de desarrolladores un conjunto de notificaciones o Webhooks, la cual permite que puedas estar informado cuando en Bsale se ejecuten determinadas acciones, como la ",(0,i.yg)("strong",{parentName:"p"},"creaci\xf3n de un documento"),", la ",(0,i.yg)("strong",{parentName:"p"},"creaci\xf3n de un producto"),", la ",(0,i.yg)("strong",{parentName:"p"},"actualizaci\xf3n del stock"),", ",(0,i.yg)("strong",{parentName:"p"},"sus precios"),' etc. Esto evitar\xe1 que tengas que estar preguntando cada cierto tiempo si algo ha cambiado en Bsale. Estas notificaciones o "callback\xb4s", son informadas mediante webhooks o tambi\xe9n conocidos como ',(0,i.yg)("inlineCode",{parentName:"p"},"user-defined HTTP callbacks"),", a mediante un ",(0,i.yg)("inlineCode",{parentName:"p"},"POST")," a una URL que configures para ello. De esta manera por ejemplo cada vez que en Bsale se cree un nuevo documento, te avisaremos mediante una llamada ",(0,i.yg)("inlineCode",{parentName:"p"},"POST")," a la URL que definiste, con una estructura ",(0,i.yg)("inlineCode",{parentName:"p"},"JSON")," que contiene la informaci\xf3n que te permitir\xe1 obtener el documento creado."),(0,i.yg)("p",null,"Con los datos enviados en el estructura JSON podr\xe1s llamar a nuestra API."),(0,i.yg)("admonition",{type:"info"},(0,i.yg)("p",{parentName:"admonition"},(0,i.yg)("strong",{parentName:"p"},"Url base")," para consumir las respuestas\n",(0,i.yg)("a",{parentName:"p",href:"https://api.bsale.io"},"https://api.bsale.io"))),(0,i.yg)("h3",{id:"convenciones-utilizadas"},"Convenciones utilizadas"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Se solicita que la notificaci\xf3n POS sea sobre SSL."),(0,i.yg)("li",{parentName:"ul"},"Se usan sustantivos, no verbos."),(0,i.yg)("li",{parentName:"ul"},'Se utiliza dos urls base por recurso "/clients.json", "clients/1.json"'),(0,i.yg)("li",{parentName:"ul"},"Siempre se usa el nombre del recurso en plural."),(0,i.yg)("li",{parentName:"ul"},"Se env\xeda la url del recurso."),(0,i.yg)("li",{parentName:"ul"},"Manejo de versiones en la url."),(0,i.yg)("li",{parentName:"ul"},"Las fechas se trabaja como enteros, por ejemplo 1388545200 corresponde a la fecha 2014-01-01, la conversi\xf3n es realizada utilizando el ","[Tiempo Unix]",".")),(0,i.yg)("h2",{id:"estructura-de-notificaciones"},"Estructura de notificaciones"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"cpnId")," Identificador \xfanico de la instancia (",(0,i.yg)("em",{parentName:"li"},"Empresa"),") en la cual se gener\xf3 la acci\xf3n. "),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"resource")," Endpoint donde podr\xe1s leer el recurso modificado."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"resourceId")," Identificador \xfanico del recurso modificado."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"topic")," Informaci\xf3n respecto del tipo de recurso modificado (",(0,i.yg)("em",{parentName:"li"},"Documentos, Productos, variantes, stock, precios"),")"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"action")," Acci\xf3n ejecutada sobre el recurso. Para ello se utiliza RESTful como est\xe1ndar (",(0,i.yg)("inlineCode",{parentName:"li"},"POST"),", ",(0,i.yg)("inlineCode",{parentName:"li"},"PUT")," o ",(0,i.yg)("inlineCode",{parentName:"li"},"DELETE"),")"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"send")," fecha en formato de entero (",(0,i.yg)("inlineCode",{parentName:"li"},"UNIX"),")")),(0,i.yg)("admonition",{type:"tip"},(0,i.yg)("p",{parentName:"admonition"},"Algunas notificaciones contendr\xe1n estructuras JSON con campos extras como por ejemplo ",(0,i.yg)("strong",{parentName:"p"},(0,i.yg)("inlineCode",{parentName:"strong"},"officeId")),", en el caso de creaci\xf3n de documentos.")),(0,i.yg)("h2",{id:"webhooks-disponibles"},"Webhooks disponibles"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"configuracion/webhooks",title:"ir a referencia"},"Obtener datos de instancia")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"documentos/webhooks",title:"ir a referencia"},"Webhooks de documentos")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"productos-y-servicios/webhooks#notificaci%C3%B3n-productos",title:"ir a referencia"},"Webhooks de productos")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"productos-y-servicios/webhooks#notificaci%C3%B3n-variantes",title:"ir a referencia"},"Webhooks de variantes")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"productos-y-servicios/webhooks#notificaci%C3%B3n-de-precios",title:"ir a referencia"},"Webhooks de precios")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"productos-y-servicios/webhooks#notificaci%C3%B3n-de-stock",title:"ir a referencia"},"Webhooks de cambios de stock")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"formas-de-pago/webhooks",title:"ir a referencia"},"Webhooks de documentos pagados"))),(0,i.yg)("h2",{id:"solicitar-activaci\xf3n"},"Solicitar activaci\xf3n"),(0,i.yg)("p",null,"Para solicitar la activaci\xf3n, puedes escribirnos a ",(0,i.yg)("a",{parentName:"p",href:"mailto:ayuda@bsale.app"},"ayuda@bsale.app")," indicandonos la URL y el RFC o cpnId de empresa a activar."),(0,i.yg)("admonition",{type:"note"},(0,i.yg)("p",{parentName:"admonition"},"Los webhooks que se indiquen como ",(0,i.yg)("strong",{parentName:"p"},"beta"),", deben ser solicitados a ",(0,i.yg)("a",{parentName:"p",href:"mailto:ayuda@bsale.app"},"ayuda@bsale.app")," su implementaci\xf3n")))}d.isMDXComponent=!0}}]);